<template>    <v-card id="individuals-table">        <heading-toolbar :count="data.count" :icon="icon('individuals')" title="Individuals" :resource_url="resource_url"/>        <v-data-table                :headers="headers"                :items="data.entries"                hide-actions                class="elevation-1">            <template slot="items" slot-scope="table">                <td>                    <link-button :to="'/individuals/'+ table.item.pk" :title="'Individual: '+table.item.pk" :icon="icon('individual')"/>                    <json-button :resource_url="api + '/individuals_read/'+ table.item.pk +'/?format=json'"/>                </td>                <td>                    <individual-info :individual="table.item"/>                </td>                <td>                    <get-data :resource_url="get_characterica_url(table.item.characteristica_all_final)">                        <div slot-scope="cdata">                            <v-layout wrap>                            <span v-for="item in cdata.data.results">                                <characteristica-card :data="item" :resource_url="get_characterica_url(table.item.characteristica_all_final)" />                            </span>                            </v-layout>                        </div>                    </get-data>                </td>            </template>        </v-data-table>    </v-card></template><script>    import {lookup_icon} from "@/icons"    import CharacteristicaCard from '../detail/CharacteristicaCard';    import {fetch_data} from '@/utils'    export default {       name: 'IndividualsTable',       components: {           CharacteristicaCard,       },        props: {            data: Object,            resource_url: String,        },        data() {            return {                headers: [                    {text: 'Individual', value: 'individual'},                    {text: 'Info', value: 'info'},                    {text: 'Characteristica', value: 'characteristica'},                ],            }        },        computed: {            api() {                return this.$store.state.endpoints.api;            },        },        methods: {            get_characterica_url(ids){                return this.$store.state.endpoints.api + '/characteristica_elastic/?ids='+ ids.join('__')},            icon: function (key) {                return lookup_icon(key)            },            characteristica_data(individual){                var url = get_characterica_url(individual.characteristica_all_final)                return fetch_data(url)            }        }    }</script><style></style>